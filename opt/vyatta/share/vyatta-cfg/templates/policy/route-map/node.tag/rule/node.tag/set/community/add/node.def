multi:
type: txt
help: Add communities to a prefix
val_help: <AS:VAL>; Community number in <0-65535:0-65535> format
val_help: local-as; Well-known communities value NO_EXPORT_SUBCONFED 0xFFFFFF03
val_help: no-advertise; Well-known communities value NO_ADVERTISE 0xFFFFFF02
val_help: no-export; Well-known communities value NO_EXPORT 0xFFFFFF01
val_help: internet; Well-known communities value 0
val_help: graceful-shutdown; Well-known communities value GRACEFUL_SHUTDOWN 0xFFFF0000
val_help: accept-own; Well-known communities value ACCEPT_OWN 0xFFFF0001
val_help: route-filter-translated-v4; Well-known communities value ROUTE_FILTER_TRANSLATED_v4 0xFFFF0002
val_help: route-filter-v4; Well-known communities value ROUTE_FILTER_v4 0xFFFF0003
val_help: route-filter-translated-v6; Well-known communities value ROUTE_FILTER_TRANSLATED_v6 0xFFFF0004
val_help: route-filter-v6; Well-known communities value ROUTE_FILTER_v6 0xFFFF0005
val_help: llgr-stale; Well-known communities value LLGR_STALE 0xFFFF0006
val_help: no-llgr; Well-known communities value NO_LLGR 0xFFFF0007
val_help: accept-own-nexthop; Well-known communities value accept-own-nexthop 0xFFFF0008
val_help: blackhole; Well-known communities value BLACKHOLE 0xFFFF029A
val_help: no-peer; Well-known communities value NOPEER 0xFFFFFF04
allowed: echo "
      local-as
      no-advertise
      no-export
      internet
      graceful-shutdown
      accept-own
      route-filter-translated-v4
      route-filter-v4
      route-filter-translated-v6
      route-filter-v6
      llgr-stale
      no-llgr
      accept-own-nexthop
      blackhole
      no-peer
    "
syntax:expression: exec "${vyos_libexec_dir}/validate-value --regex \'local-as|no-advertise|no-export|internet|graceful-shutdown|accept-own|route-filter-translated-v4|route-filter-v4|route-filter-translated-v6|route-filter-v6|llgr-stale|no-llgr|accept-own-nexthop|blackhole|no-peer\' --exec \"${vyos_validators_dir}/bgp-regular-community \"  --value \'$VAR(@)\'"; "Invalid value"
